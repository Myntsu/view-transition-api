---
// astro imports
import { Icon } from "astro-icon";

import Layout from "../../layouts/Layout.astro";

// component imports
import Header from "../../components/dashboard/Header.astro";
import Courses from "../../components/dashboard/Courses.astro";
---

<Layout
  title="Pagos"
  description="Sección de pagos">
  <a
    class="expanded-link"
    aria-label="Home screen"
    href="/"
  ></a>
  <div class="layer"></div>
  <Header />
  <div class="sections layered">
    <section>
      <div
        class="notification"
        transition:name="course-closing">
        <div>
          <a
            class="expanded-link"
            aria-label="Home screen"
            href="/"
          ></a>
          <p>
            <Icon
              class="icon"
              name="ic:baseline-notifications-active"
            />
            Módulo 6 cierra en 2 días 
            <Icon
              class="icon"
              name="ic:baseline-minus"
            />
          </p>
        </div>
        <hr />
        <div class="comment">
            <p>Estimado Luis, el módulo 6 cierra en 2 días.</p>
            <p>¿Qué significa esto?</p>
            <ul>
                <li>Los pagos de este módulo se harán el siguiente viernes.</li>
                <li>Quedan 4 módulos para terminar el bootcamp.</li>
            </ul>
        </div>
      </div>
    </section>
  </div>
  <div class="sections">
    <Courses />
  </div>
</Layout>

<style lang="scss">
  .layer {
    position: fixed;
    inset: 0;
    width: 100vw;
    height: 100vh;
    background-color: hsl(var(--main-dark) / 0.5);
    z-index: 1;
    isolation: isolate;
  }

  .sections {
    position: relative;
    padding-inline: 2rem;
  }

  section {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;

    height: 155px;
    padding: 0.5rem;
    color: hsl(var(--text));
    background: hsl(var(--main-light));
    border: 1px solid hsl(var(--main-light));

    box-shadow: 2px 2px 10px hsl(var(--main-shadow) / 0.5);

    position: relative;
    z-index: 2;
  }

  .notification {
    display: flex;
    flex-direction: column;

    height: 100%;
    padding: 0.5rem;
    color: hsl(var(--main-light));
    background-color: hsl(var(--important));
    border-radius: 0.25rem;

    .expaded-link {
      top: 0;
      left: -100%;
      right: -100%;
    }

    hr {
      width: 100%;
      margin: 0;
      margin-block-end: .55rem;
    }

    & > div:nth-of-type(1) {
      position: relative;
      p {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        color: hsl(var(--main-light) / 0.8);
        margin-block-end: 0.5rem;

        .icon {
          width: 20px;
        }

        & > :last-child {
          margin-inline-start: auto;
        }
      }
    }

    .comment {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      flex: 1 0 0;

      overflow-y: auto;

      p {
        margin: 0;
      }

        ul {
            margin: 0;
            font-size: .75rem;
            padding-inline-start: 1.25rem;

            li {
                padding-block: .15rem;
            }
        }
    }
  }
</style>
